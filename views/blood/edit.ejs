<%- include('../partials/header') %>
  <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-bold text-red-700 mb-6">Edit Blood Inventory</h2>
    
    <% if (error) { %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
        <%= error %>
      </div>
    <% } %>

    <form action="/blood/edit/<%= id %>" method="POST">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <label for="bloodType" class="block text-gray-700 mb-2">Blood Type</label>
          <select id="bloodType" name="bloodType" required 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
            <option value="A+" <%= blood.bloodType === 'A+' ? 'selected' : '' %>>A+</option>
            <option value="A-" <%= blood.bloodType === 'A-' ? 'selected' : '' %>>A-</option>
            <option value="B+" <%= blood.bloodType === 'B+' ? 'selected' : '' %>>B+</option>
            <option value="B-" <%= blood.bloodType === 'B-' ? 'selected' : '' %>>B-</option>
            <option value="AB+" <%= blood.bloodType === 'AB+' ? 'selected' : '' %>>AB+</option>
            <option value="AB-" <%= blood.bloodType === 'AB-' ? 'selected' : '' %>>AB-</option>
            <option value="O+" <%= blood.bloodType === 'O+' ? 'selected' : '' %>>O+</option>
            <option value="O-" <%= blood.bloodType === 'O-' ? 'selected' : '' %>>O-</option>
          </select>
        </div>
        
        <div>
          <label for="unitsAvailable" class="block text-gray-700 mb-2">Units Available</label>
          <input type="number" id="unitsAvailable" name="unitsAvailable" min="1" 
            value="<%= blood.unitsAvailable %>" required 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
        </div>
      </div>
      
      <div class="mb-4">
        <label for="donorInfo" class="block text-gray-700 mb-2">Donor Information</label>
        <textarea id="donorInfo" name="donorInfo" rows="3" 
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"><%= blood.donorInfo %></textarea>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div>
          <label for="collectionDate" class="block text-gray-700 mb-2">Collection Date</label>
          <input type="date" id="collectionDate" name="collectionDate" 
            value="<%= blood.collectionDate %>" required 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
        </div>
        
        <div>
          <label for="expiryDate" class="block text-gray-700 mb-2">Expiry Date</label>
          <input type="date" id="expiryDate" name="expiryDate" 
            value="<%= blood.expiryDate %>" required 
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
        </div>
      </div>
      
      <div class="flex justify-end space-x-4">
        <a href="/dashboard" 
          class="px-4 py-2 border border-red-700 text-red-700 rounded-md hover:bg-red-50 transition duration-300">
          Cancel
        </a>
        <button type="submit" 
          class="px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-800 transition duration-300">
          Update
        </button>
      </div>
    </form>
  </div>
<%- include('../partials/footer') %>